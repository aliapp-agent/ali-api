# Ali API - Production Environment Configuration
# 
# IMPORTANT: This is a template file. Do not commit actual secrets!
# Replace all placeholder values with real production values.

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_ENV=production
PROJECT_NAME=Ali API
VERSION=1.0.0
DESCRIPTION=A production-ready FastAPI template with Agno and Langfuse integration
API_V1_STR=/api/v1
DEBUG=false

# =============================================================================
# FIREBASE CONFIGURATION
# =============================================================================
# Firebase Configuration - REPLACE WITH ACTUAL PROJECT VALUES
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CREDENTIALS_PATH=/app/firebase-credentials.json
FIREBASE_STORAGE_BUCKET=your-firebase-project-id.appspot.com
FIREBASE_REGION=us-central1

# SQLite for Agno agent memory (use persistent storage in production)
AGNO_MEMORY_PATH=/app/data/agno_memory.db

# =============================================================================
# LLM CONFIGURATION
# =============================================================================
# OpenAI API Configuration - REPLACE WITH ACTUAL API KEY
LLM_API_KEY=sk-REPLACE_WITH_ACTUAL_OPENAI_API_KEY
LLM_MODEL=gpt-4o-mini
DEFAULT_LLM_TEMPERATURE=0.2
MAX_TOKENS=2000
MAX_LLM_CALL_RETRIES=3

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration - GENERATE STRONG SECRET IN PRODUCTION
JWT_SECRET_KEY=REPLACE_WITH_CRYPTOGRAPHICALLY_SECURE_SECRET_KEY_MIN_256_BITS
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_DAYS=7  # Shorter expiry for production

# =============================================================================
# LANGFUSE OBSERVABILITY
# =============================================================================
LANGFUSE_PUBLIC_KEY=pk-lf-REPLACE_WITH_ACTUAL_PUBLIC_KEY
LANGFUSE_SECRET_KEY=sk-lf-REPLACE_WITH_ACTUAL_SECRET_KEY
LANGFUSE_HOST=https://cloud.langfuse.com

# =============================================================================
# CORS SETTINGS - PRODUCTION DOMAINS ONLY
# =============================================================================
ALLOWED_ORIGINS=https://your-frontend-domain.com,https://admin.your-domain.com

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_DIR=/app/logs
LOG_LEVEL=WARNING  # More restrictive in production
LOG_FORMAT=json   # Structured logging for production

# =============================================================================
# RATE LIMITING - PRODUCTION VALUES (MORE RESTRICTIVE)
# =============================================================================
RATE_LIMIT_DEFAULT=500 per day,100 per hour

# Specific endpoint rate limits (production - restrictive)
RATE_LIMIT_CHAT=20 per minute
RATE_LIMIT_CHAT_STREAM=10 per minute
RATE_LIMIT_MESSAGES=30 per minute
RATE_LIMIT_REGISTER=5 per hour
RATE_LIMIT_LOGIN=10 per minute
RATE_LIMIT_ROOT=30 per minute
RATE_LIMIT_HEALTH=50 per minute

# =============================================================================
# QDRANT VECTOR DATABASE CONFIGURATION
# =============================================================================
# Production Qdrant Configuration
QDRANT_URL=https://a7ec9a98-1327-4fe0-869d-e33b52d4a498.us-east4-0.gcp.cloud.qdrant.io
QDRANT_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.yFsc6gtKzD5n2dalsPp6dvY8Cz9raMbkGUarmM0VbdM
QDRANT_TIMEOUT=30
QDRANT_MAX_RETRIES=3

# RAG Configuration
RAG_INDEX_NAME=ali-api-documents-prod
RAG_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
RAG_CHUNK_SIZE=1000
RAG_CHUNK_OVERLAP=200
RAG_MAX_RESULTS=5

# =============================================================================
# EVALUATION CONFIGURATION
# =============================================================================
EVALUATION_LLM=gpt-4o-mini
EVALUATION_BASE_URL=https://api.openai.com/v1
EVALUATION_API_KEY=REPLACE_WITH_EVALUATION_API_KEY
EVALUATION_SLEEP_TIME=2  # Faster in production

# =============================================================================
# PRODUCTION SPECIFIC SETTINGS
# =============================================================================
# Security settings
ENABLE_REQUEST_LOGGING=false  # Disabled for performance and privacy
DISABLE_HTTPS_REDIRECT=false  # Enforce HTTPS in production

# Database settings
RESET_DB_ON_STARTUP=false  # NEVER reset database in production

# Performance settings
PYTHONWARNINGS=ignore  # Suppress warnings in production

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================
# Enable structured logging and metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Health check configuration
HEALTH_CHECK_TIMEOUT=10
DEEP_HEALTH_CHECK_ENABLED=true

# =============================================================================
# CLOUD RUN SPECIFIC (if deploying to Cloud Run)
# =============================================================================
PORT=8000
CLOUD_RUN_SERVICE_NAME=ali-api-prod

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================
# Backup configuration (if applicable)
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# =============================================================================
# SECURITY HEADERS
# =============================================================================
# Additional security for production
HSTS_MAX_AGE=31536000  # 1 year
CSP_ENABLED=true
SECURITY_HEADERS_STRICT=true

# =============================================================================
# RESOURCE LIMITS
# =============================================================================
# Memory and CPU limits for production
MAX_MEMORY_MB=4096
MAX_CPU_CORES=2
MAX_CONCURRENT_REQUESTS=100

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Toggle features in production without code changes
FEATURE_RAG_ENABLED=true
FEATURE_STREAMING_ENABLED=true
FEATURE_EVALUATION_ENABLED=true
FEATURE_METRICS_ENABLED=true

# =============================================================================
# IMPORTANT SECURITY NOTES
# =============================================================================
# 1. Replace ALL placeholder values with actual production secrets
# 2. Use Google Secret Manager or similar for secret management
# 3. Never commit this file with real secrets to version control
# 4. Rotate secrets regularly
# 5. Use strong, unique passwords and API keys
# 6. Enable audit logging for all secret access
# 7. Implement proper backup and disaster recovery procedures